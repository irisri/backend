(function(e){function t(t){for(var r,i,o=t[0],c=t[1],u=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id="4678"},"569e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-layout",attrs:{id:"app"}},[n("evento-header",{attrs:{user:e.loggedInUser},on:{logout:e.logout}}),n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1),n("evento-footer",{staticClass:"footer-container"})],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"main-header",class:e.classObject},[n("div",{staticClass:"screen",class:e.classObject,on:{click:function(t){return t.preventDefault(),e.toggleMenu()}}}),n("router-link",{attrs:{to:"/"}},[n("h1",{staticClass:"logo"},[e._v(" Endorphin "),n("span",[e._v("rush")])])]),e.user?n("h1",[e._v(e._s(e.msg.txt))]):e._e(),n("span",{staticClass:"btn-menu material-icons",on:{click:function(t){return t.stopPropagation(),e.toggleMenu(t)}}},[e._v("menu")]),n("nav",{staticClass:"main-nav",on:{click:function(t){t.stopPropagation(),e.isOpenMenu=!1}}},[n("router-link",{attrs:{to:"/evento"}},[e._v("Events")]),n("span",[e._v("|")]),n("router-link",{attrs:{to:"/about"}},[e._v("About")]),n("span",[e._v("|")]),e.user?n("router-link",{attrs:{to:"/login"},nativeOn:{click:function(t){return e.logout()}}},[e._v("Logout")]):e._e(),e.user?n("span",[e._v("|")]):e._e(),e.user?n("router-link",{staticClass:"profile",attrs:{to:"/user/details/"+e.user._id}},[n("img",{attrs:{src:e.user.imgUrl,alt:"Profile"}})]):n("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1)],1)},c=[],u=(n("96cf"),n("1da1")),l=n("8055"),d=n.n(l),p="/",v={setup:f,terminate:m,on:g,off:h,emit:b};function f(){r=d()(p)}function m(){r=null}function g(e,t){r.on(e,t)}function h(e,t){r.off(e,t)}function b(e,t){r.emit(e,t)}var w={props:{user:{type:Object,required:!1}},data:function(){return{msg:{},isOpenMenu:!1}},methods:{logout:function(){this.$emit("logout")},toggleMenu:function(){this.isOpenMenu=!this.isOpenMenu},closeMenu:function(){this.isOpenMenu=!1}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:v.setup(),v.on("chat addMsg",(function(t){e.msg=t}));case 2:case"end":return t.stop()}}),t)})))()},computed:{classObject:function(){return{"menu-open":this.isOpenMenu}}}},y=w,j=n("2877"),x=Object(j["a"])(y,o,c,!1,null,null,null),k=x.exports,C=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",[n("p",[e._v("@coffee rights 2020")]),n("h3",[e._v("Social media")])])}],O={},U=Object(j["a"])(O,C,$,!1,null,null,null),R=U.exports,E={name:"App",components:{eventoHeader:k,eventoFooter:R},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}},methods:{logout:function(){this.$store.dispatch({type:"logout"})}}},I=E,T=Object(j["a"])(I,a,i,!1,null,null,null),A=T.exports,B=n("9483");Object(B["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var D=n("8c4f"),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"evento-app main-container"},[n("filter-and-add",{on:{setFilter:e.setFilter}}),e.isLoading?n("img",{attrs:{src:"https://1.bp.blogspot.com/-yIhXlQfYN1E/WMksG192LLI/AAAAAAAAA9w/txsqdQfykVksDEFshayeN54c0Gu6C3AAwCLcB/s1600/glow.gif",alt:"Loading..."}}):n("evento-list",{attrs:{eventos:e.eventos},on:{removeEvento:e.removeEvento}})],1)},M=[],N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"evento-list"},e._l(e.eventos,(function(t){return n("section",{key:t._id,staticClass:"evento-card",on:{click:function(n){return n.stopPropagation(),e.$router.push("/evento/details/"+t._id)}}},[n("evento-preview",{attrs:{evento:t}})],1)})),0)},S=[],z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"evento-preview"},[n("el-carousel",{attrs:{"indicator-position":"outside",autoplay:!1}},e._l(e.evento.imgUrls,(function(e,t){return n("el-carousel-item",{key:t},[n("img-carousel-lazy",{attrs:{url:e}})],1)})),1),n("div",{staticClass:"preview-content flex column justify-start"},[n("div",{staticClass:"owner-rate flex space-between"},[n("div",{staticClass:"owner flex"},[n("img",{attrs:{src:e.ownerUsr.imgUrl}}),n("p",[e._v(e._s(e.ownerUsr.userName))])]),e.ownerUsr.reviews?n("div",{staticClass:"rate flex align-center"},[e._m(0),n("p",{staticClass:"avg"},[e._v(e._s(e.rateAvg))]),n("p",{staticClass:"count"},[e._v(" ("+e._s(e.ownerUsr.reviews.length)+")")])]):e._e()]),n("div",{staticClass:"details"},[n("h3",[e._v(e._s(e.evento.title))]),n("p",[e._v(e._s(e.evento.location.name))]),n("div",{staticClass:"time-member flex space-between"},[n("h4",[e._v(e._s(e.timeToShow))]),n("div",{staticClass:"members flex align-center"},[e._m(1),e._v(" "),n("p",[e._v(e._s(e.evento.members.length)+"/"+e._s(e.evento.capacity))])])])])])],1)},F=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"star"},[n("i",{staticClass:"el-icon-star-on"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"member"},[n("i",{staticClass:"el-icon-s-custom"})])}],q=(n("13d5"),n("b680"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("figure",{directives:[{name:"lazyload",rawName:"v-lazyload"}]},[n("img",{attrs:{"data-url":e.url}})])}),P=[],V=(n("7db0"),n("4160"),n("a630"),n("3ca3"),n("159b"),{inserted:function(e){function t(){var t=Array.from(e.children).find((function(e){return"IMG"===e.nodeName}));t&&(t.addEventListener("load",(function(){setTimeout((function(){return e.classList.add("loaded")}),100)})),t.addEventListener("error",(function(){return console.log("error")})),t.src=t.dataset.url)}function n(n,r){n.forEach((function(n){n.isIntersecting&&(t(),r.unobserve(e))}))}function r(){var t={root:null,threshold:"0"},r=new IntersectionObserver(n,t);r.observe(e)}window["IntersectionObserver"]?r():t()}}),Y={name:"img-carousel-lazy",props:{url:{type:String,required:!0}},directives:{lazyload:V}},J=Y,W=Object(j["a"])(J,q,P,!1,null,null,null),G=W.exports,H=n("c1df"),Q={name:"evento-preview",props:{evento:{type:Object,required:!0}},data:function(){return{img:this.evento.imgUrls[0],ownerUsr:""}},computed:{timeToShow:function(){var e=new Date;e.setDate(e.getDate()+7);var t=new Date;return t.setDate(t.getDate()+365),this.evento.startTime<e?H(this.evento.startTime).fromNow():this.evento.startTime>t?H(this.evento.startTime).format("MMM Do YY"):H(this.evento.startTime).format("LL")},rateAvg:function(){var e=this.ownerUsr.reviews.reduce((function(e,t){return e+t.rate}),0)/this.ownerUsr.reviews.length;return e.toFixed(0)},spotsLeft:function(){return this.evento.capacity-this.evento.members.length}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.evento.owner._id,!n){t.next=8;break}return t.next=4,e.$store.dispatch({type:"getUserById",userId:n});case 4:e.ownerUsr=_.cloneDeep(e.$store.getters.user),e.rate=e.rateAvg,t.next=8;break;case 8:case"end":return t.stop()}}),t)})))()},components:{imgCarouselLazy:G}},X=Q,K=Object(j["a"])(X,z,F,!1,null,null,null),Z=K.exports,ee={name:"evento-list",props:{eventos:{type:Array,required:!0}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},isOwner:function(){return this.loggedInUser&&this.loggedInUser.isOwner}},methods:{},components:{eventoPreview:Z}},te=ee,ne=Object(j["a"])(te,N,S,!1,null,null,null),re=ne.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"evento-filter"},[n("div",[n("search-area",{on:{setFilter:e.setFilter}})],1),n("div",[n("el-button",{staticClass:"new-evento",attrs:{title:"Add New event"},on:{click:function(t){return e.$router.push("/evento/edit")}}},[e._v("create new event!")])],1)])},ae=[],ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"search-area"},[n("el-input",{staticClass:"search-title",attrs:{size:"large",placeholder:"Find your next event"},on:{input:e.setFilter},model:{value:e.filterBy.title,callback:function(t){e.$set(e.filterBy,"title",t)},expression:"filterBy.title"}}),n("div",{staticClass:"cat-tags flex justify-center"},[n("el-select",{attrs:{placeholder:"Category",selected:e.filterBy.category},on:{change:e.setFilter},model:{value:e.filterBy.category,callback:function(t){e.$set(e.filterBy,"category",t)},expression:"filterBy.category"}},e._l(e.categories,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1),n("el-select",{attrs:{multiple:"",placeholder:"Tags",selected:e.filterBy.tags},on:{change:e.setFilter},model:{value:e.filterBy.tags,callback:function(t){e.$set(e.filterBy,"tags",t)},expression:"filterBy.tags"}},e._l(e.tags,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),n("el-select",{attrs:{placeholder:"Day"},on:{change:e.setFilter},model:{value:e.filterBy.time,callback:function(t){e.$set(e.filterBy,"time",t)},expression:"filterBy.time"}},e._l(e.dates,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)},oe=[],ce={data:function(){return{name:"search-area",filterBy:{title:"",location:"",tags:[],timeAndDate:"Any day",category:null},categories:["Weight training","Cardio","Running","Bicycle","Boxing","Fitness"],dates:["Any day","Today","Tomorrow","This week","Next week"],tags:null}},created:function(){this.tags=this.$store.getters.tags,this.filterBy=_.cloneDeep(this.$store.getters.getFilterBy)},methods:{setFilter:function(){this.$emit("setFilter",this.filterBy)}}},ue=ce,le=Object(j["a"])(ue,ie,oe,!1,null,null,null),de=le.exports,pe={methods:{setFilter:function(e){this.$emit("setFilter",e)}},components:{searchArea:de}},ve=pe,fe=Object(j["a"])(ve,se,ae,!1,null,null,null),me=fe.exports,ge={computed:{eventos:function(){return this.$store.getters.eventos},isLoading:function(){return this.$store.getters.isLoading}},methods:{setFilter:function(e){this.$store.commit({type:"updateFilterBy",filter:_.cloneDeep(e)}),this.$store.dispatch({type:"loadEventos"})},removeEvento:function(e){console.log({type:"removeEvento",eventoId:e}),this.$store.dispatch({type:"removeEvento",eventoId:e})}},components:{eventoList:re,filterAndAdd:me},created:function(){this.$store.dispatch({type:"loadEventos"}),this.setFilter=_.debounce(this.setFilter,500)}},he=ge,be=Object(j["a"])(he,L,M,!1,null,null,null),we=be.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.evento?n("div",{staticClass:"evento-details main-container"},[n("div",{staticClass:"title"},[n("h3",[e._v(e._s(e.evento.title))]),e.owner.reviews?n("el-rate",{attrs:{disabled:""},model:{value:e.rateAvg,callback:function(t){e.rateAvg=t},expression:"rateAvg"}},[e._v(">")]):e._e()],1),n("div",{staticClass:"img-wrapper"},[n("div",{staticClass:"imgs-details"},e._l(e.evento.imgUrls,(function(e,t){return n("img",{key:e,class:"image-"+(t+1),attrs:{src:e}})})),0)]),n("div",{staticClass:"details-content flex"},[n("div",{staticClass:"info"},[n("p",{staticClass:"capacity"},[e._v(e._s(e.spotsLeft)+" spots left")]),n("div",{staticClass:"owner flex space-between",on:{click:function(t){return t.stopPropagation(),e.$router.push("/user/details/"+e.owner._id)}}},[n("div",{staticClass:"flex space-between column"},[n("h3",[e._v("Orgenised by "+e._s(e.evento.owner.userName))]),n("p",{staticClass:"bio"},[e._v(e._s(e.owner.bio))])]),n("img",{attrs:{src:e.evento.owner.imgUrl}})]),e.isOwner?n("div",[n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.$router.push("/evento/edit/"+e.evento._id)}}},[e._v("Edit event")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.removeEvento()}}},[e._v("Delete event")])],1):e._e(),n("p",{staticClass:"desc"},[e._v(e._s(e.evento.description))]),n("div",{staticClass:"category"},[n("p",[e._v("Category: "+e._s(e.evento.category))]),n("div",[e._v(" Tags: "),e._l(e.evento.tags,(function(t,r){return n("el-tag",{key:r,staticClass:"tags-list flex"},[e._v(e._s(t))])}))],2)]),n("member-list",{attrs:{members:e.evento.members,capacity:e.evento.capacity}}),e.owner.reviews?n("review-list",{attrs:{reviews:e.owner.reviews},on:{addReview:e.addReview}}):n("p",[e._v("Be the first to comment..")])],1),n("div",{staticClass:"join"},[n("p",[n("i",{staticClass:"el-icon-date"}),e._v(" "+e._s(e._f("moment")(e.evento.startTime,"dddd, MMMM Do YYYY"))+" ")]),n("p",[n("i",{staticClass:"el-icon-time"}),e._v(" "+e._s(e._f("moment")(e.evento.startTime,"h:mm a"))+" ")]),n("p",[n("i",{staticClass:"el-icon-map-location"}),e._v(" "+e._s(e.evento.location.name)+" ")]),e.owner.reviews?n("p",[n("i",{staticClass:"el-icon-star-on"}),e._v(" "+e._s(e.rateAvg)+" ("+e._s(e.owner.reviews.length)+") ")]):e._e(),n("button",{on:{click:function(t){return e.addMember()}}},[e._v("I want to join")])])])]):e._e()},_e=[],je=(n("99af"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"members"},[n("h3",{staticClass:"member-header"},[e._v("Members ("+e._s(e.countMembers)+" / "+e._s(e.capacity)+")")]),n("ul",{staticClass:"member-list flex clean-list"},e._l(e.members,(function(t){return n("li",{key:t._id,staticClass:"member-card"},[n("img",{attrs:{src:t.imgUrl}}),n("h5",[e._v(e._s(t.userName))])])})),0)])}),xe=[],ke=(n("a9e3"),{props:{members:{type:Array,required:!0},capacity:{type:Number,required:!1}},computed:{countMembers:function(){return this.members.length}}}),Ce=ke,$e=Object(j["a"])(Ce,je,xe,!1,null,null,null),Oe=$e.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"reviews"},[n("div",{staticClass:"review-header flex space-between align-center rush"},[n("h3",[e._v("Reviews ("+e._s(e.countReviews)+")")]),!e.showAddReview&!e.isOwner?n("el-button",{staticClass:"show-add-review-btn",on:{click:function(t){e.showAddReview=!e.showAddReview}}},[e._v("Add Review")]):e._e()],1),n("ul",{staticClass:"review-list flex column clean-list"},[e.showAddReview?n("li",{staticClass:"add-review"},[n("el-rate",{attrs:{texts:["oops","disappointed","normal","good","great"],"show-text":""},model:{value:e.newReview.rate,callback:function(t){e.$set(e.newReview,"rate",t)},expression:"newReview.rate"}}),n("el-input",{attrs:{type:"textarea",placeholder:"Type here...",autosize:{minRows:2,maxRows:6}},model:{value:e.newReview.txt,callback:function(t){e.$set(e.newReview,"txt",t)},expression:"newReview.txt"}}),n("el-button",{staticClass:"add-review-btn",on:{click:function(t){return e.addReview()}}},[e._v("Add")])],1):e._e(),e._l(e.reviews,(function(t,r){return n("li",{key:r,staticClass:"review-card"},[n("img",{attrs:{src:t.imgUrl}}),n("div",{staticClass:"review-detail"},[n("h2",[e._v(e._s(t.userName))]),n("el-rate",{attrs:{disabled:""},model:{value:t.rate,callback:function(n){e.$set(t,"rate",n)},expression:"review.rate"}}),n("p",[e._v(e._s(t.txt))])],1)])}))],2)])},Re=[],Ee={props:{reviews:{type:Array,required:!0},isOwner:{type:Boolean,required:!1}},data:function(){return{showAddReview:!1,newReview:{txt:"",rate:0}}},computed:{countReviews:function(){return this.reviews.length}},methods:{addReview:function(){this.showAddReview=!1,this.$emit("addReview",this.newReview)}}},Ie=Ee,Te=Object(j["a"])(Ie,Ue,Re,!1,null,null,null),Ae=Te.exports,Be=n("ade3"),De={toastMsg:Le,resetToast:Me};function Le(e,t){var n;e.$toasted.show(t.msg,(n={className:"alert-toast",icon:t.icon,duration:5e3},Object(Be["a"])(n,"className",["alert-toast"]),Object(Be["a"])(n,"position","bottom-right"),n))}function Me(e){e.$toasted.clear()}var Ne={data:function(){return{evento:null,owner:"",title:"",payload:{},loggedInUser:"",msg:"",isJoined:!1}},computed:{timeToShow:function(){return new Date(this.evento.startTime).toLocaleString()},rateAvg:function(){if(this.owner.reviews){var e=this.owner.reviews.reduce((function(e,t){return e+t.rate}),0)/this.owner.reviews.length;return parseFloat(e.toFixed(0))}},spotsLeft:function(){var e=this.evento.capacity-this.evento.members.length;return e||"No"},isOwner:function(){var e=this.$store.getters.loggedInUser;if(e)return this.evento.owner._id===e._id}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.id,t.next=3,e.$store.dispatch({type:"getById",eventoId:n});case 3:return e.evento=_.cloneDeep(e.$store.getters.evento),e.loggedInUser=e.$store.getters.loggedInUser,r=e.evento.owner._id,t.next=8,e.$store.dispatch({type:"getUserById",userId:r});case 8:e.owner=_.cloneDeep(e.$store.getters.user),e.title=e.evento.title,v.setup(),v.emit("of evento",e.evento._id),v.emit("to user",e.evento.owner._id),v.on("chat addMsg",(function(t){e.isJoined||(De.resetToast(e),e.payload={msg:t+"xx",icon:"how_to_reg"},De.toastMsg(e,e.payload),e.isJoined=!1)}));case 14:case"end":return t.stop()}}),t)})))()},methods:{addMember:function(){var e=this,t=this.loggedInUser;if(!t)return this.payload.msg="Please log in",this.payload.icon="block",De.toastMsg(this,this.payload),setTimeout((function(){return e.$router.push("/login")}),1e3);if(this.evento.members.find((function(e){return e._id===t._id})))return this.payload.msg="You are already registered for the event",this.payload.icon="how_to_reg",console.log("already"),De.toastMsg(this,this.payload);if(this.evento.members.find((function(e){return e._id===t._id})));else if("No"===this.spotsLeft)this.payload.msg="No spots left",this.payload.icon="block",De.toastMsg(this,this.payload);else{this.isJoined=!0,this.evento.members.push(t),this.$store.dispatch({type:"addMember",evento:this.evento}),this.payload.msg="You have successfully registered for this event",this.payload.icon="how_to_reg",De.toastMsg(this,this.payload);var n="".concat(t.userName," just joined: ").concat(this.title," ");this.sendMsg(n)}},removeEvento:function(e){this.$store.dispatch({type:"removeEvento",eventoId:this.evento._id}),this.$router.push("/")},addReview:function(e){var t=this.loggedInUser;e.userId=t._id,e.userName=t.userName,e.imgUrl=t.imgUrl,this.owner.reviews.push(e),this.$store.dispatch({type:"addReview",user:this.owner})},sendMsg:function(e){setTimeout((function(){v.emit("chat newMsg",e),this.payload={}}),500)}},destroyed:function(){v.off("chat addMsg",this.addMsg),v.terminate()},components:{memberList:Oe,reviewList:Ae}},Se=Ne,ze=Object(j["a"])(Se,ye,_e,!1,null,null,null),Fe=ze.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.evento?n("div",{staticClass:"evento-edit main-container"},[n("form-evento",{attrs:{evento:e.evento},on:{saveEvento:e.saveEvento,onUploadImg:e.onUploadImg}}),e.evento.imgUrls.length>0?n("div",{staticClass:"imgs-container"},e._l(e.evento.imgUrls,(function(t){return n("div",{key:t,staticClass:"img-container"},[t?n("img",{attrs:{src:t}}):e._e(),n("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(n){return e.removeImg(t)}}})],1)})),0):e._e()],1):e._e()},Pe=[],Ve=(n("c740"),n("a434"),n("d3b7"),n("ddb0"),n("2b3d"),n("bc3a")),Ye=n.n(Ve),Je="/api/",We=Ye.a.create({withCredentials:!0}),Ge={get:function(e,t){return He(e,"GET",t)},post:function(e,t){return He(e,"POST",t)},put:function(e,t){return He(e,"PUT",t)},delete:function(e,t){return He(e,"DELETE",t)}};function He(e){return Qe.apply(this,arguments)}function Qe(){return Qe=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"get",r=a.length>2&&void 0!==a[2]?a[2]:null,e.prev=2,e.next=5,We({url:"".concat(Je).concat(t),method:n,data:r});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:e.prev=9,e.t0=e["catch"](2),console.log("err-http",e.t0),401===e.t0.response.status&&Ht.push("/");case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),Qe.apply(this,arguments)}var Xe={query:Ze,remove:st,save:nt,update:rt,getById:et,getEmpty:Ke};function Ke(){var e;return e={title:null,description:null,location:{name:"null",lat:null,lng:null},startTime:null,capacity:null,imgUrls:[]},Object(Be["a"])(e,"imgUrls",[]),Object(Be["a"])(e,"category",null),Object(Be["a"])(e,"createdAt",null),Object(Be["a"])(e,"members",[]),Object(Be["a"])(e,"owner",{}),Object(Be["a"])(e,"imgUrls",[]),Object(Be["a"])(e,"tags",[]),e}function Ze(e){var t=at(e);return Ge.get("evento?".concat(t))}function et(e){return tt.apply(this,arguments)}function tt(){return tt=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ge.get("evento/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),tt.apply(this,arguments)}function nt(e){return Ge.post("evento",e)}function rt(e){return Ge.put("evento/".concat(e._id),e)}function st(e){return Ge.delete("evento/".concat(e))}function at(e){var t=new URLSearchParams;return e.title&&t.set("title",e.title),e.category&&t.set("category",e.category),e.tags&&t.set("tags",e.tags),e.location&&t.set(location,e.location),e.timeAndDate&&("Any day"===e.timeAndDate?t.set("timeAndDate","all"):"Today"===e.timeAndDate?t.set("timeAndDate","Today"):"Tomorrow"===e.timeAndDate?t.set("timeAndDate","Tomorrow"):"This week"===e.timeAndDate?t.set("timeAndDate","This week"):"Next week"===e.timeAndDate&&t.set("timeAndDate","Next week")),t}var it={uploadImg:lt,deleteImg:dt},ot="pqi2nrli",ct="des4awkkx",ut="https://api.cloudinary.com/v1_1/".concat(ct,"/image/upload");function lt(e){var t=new FormData;return t.append("file",e.target.files[0]),t.append("upload_preset",ot),fetch(ut,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))}function dt(e){return fetch(ut,{method:"DELETE",body:e}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))}var pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"form-container",on:{submit:function(t){return t.preventDefault(),e.saveEvento(t)}}},[n("div",{staticClass:"title"},[n("el-input",{attrs:{placeholder:"Event name",size:"small"},model:{value:e.evento.title,callback:function(t){e.$set(e.evento,"title",t)},expression:"evento.title"}})],1),n("div",{staticClass:"descritprion"},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},placeholder:"Event description"},model:{value:e.evento.description,callback:function(t){e.$set(e.evento,"description",t)},expression:"evento.description"}})],1),n("div",[n("el-input",{attrs:{placeholder:"City",size:"small"},model:{value:e.evento.location.name,callback:function(t){e.$set(e.evento.location,"name",t)},expression:"evento.location.name"}})],1),n("div",{staticClass:"tags"},[e._l(e.evento.tags,(function(t){return n("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(n){return e.handleClose(t)}}},[e._v(e._s(t))])})),e.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ New Tag")])],2),n("el-select",{attrs:{placeholder:"Category"},model:{value:e.evento.category,callback:function(t){e.$set(e.evento,"category",t)},expression:"evento.category"}},e._l(e.categories,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1),n("div",{staticClass:"time-date"},[n("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm",type:"datetime",placeholder:"Select date and time"},on:{change:e.setDate},model:{value:e.evento.startTime,callback:function(t){e.$set(e.evento,"startTime",t)},expression:"evento.startTime"}})],1),n("div",{staticClass:"capacity"},[n("label",{attrs:{for:"cap"}},[e._v("Number of participants:")]),n("el-input-number",{attrs:{size:"small","controls-position":"right",id:"cap",min:1,max:50},on:{change:e.changeCapaity},model:{value:e.evento.capacity,callback:function(t){e.$set(e.evento,"capacity",t)},expression:"evento.capacity"}})],1),n("div",{staticClass:"btns flex justify-center"},[n("div",{staticClass:"img-upload"},[n("label",{staticClass:"custom-file-upload",attrs:{for:"upload"}},[e._v("Upload image")]),n("input",{attrs:{type:"file",id:"upload"},on:{change:e.onUploadImg}})]),n("el-button",{on:{click:e.saveEvento}},[e._v("Save event")])],1)],1)},vt=[],ft=(n("c975"),{name:"title-description",props:["evento"],data:function(){return{inputVisible:!1,inputValue:"",categories:["Weight training","Cardio","Running","Bicycle","Boxing","Fitness"]}},methods:{changeCapaity:function(e){this.evento.capaity=e},handleClose:function(e){this.evento.tags.splice(this.evento.tags.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},onUploadImg:function(e){this.$emit("onUploadImg",e)},handleInputConfirm:function(){var e=this.inputValue;e&&this.evento.tags.push(e),this.inputVisible=!1,this.inputValue=""},setDate:function(e){this.evento.startTime=Date.parse(e)},saveEvento:function(){this.$emit("saveEvento",this.evento)}}}),mt=ft,gt=Object(j["a"])(mt,pt,vt,!1,null,null,null),ht=gt.exports,bt=n("2ef0"),wt={name:"evento-edit",components:{formEvento:ht},data:function(){return{evento:null}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.params.id,!n){t.next=8;break}return t.next=4,e.$store.dispatch({type:"getById",eventoId:n});case 4:return e.evento=bt.cloneDeep(e.$store.getters.evento),t.abrupt("return",e.evento=bt.cloneDeep(e.$store.getters.evento));case 8:return t.abrupt("return",e.evento=Xe.getEmpty());case 9:case"end":return t.stop()}}),t)})))()},methods:{onUploadImg:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,it.uploadImg(e);case 2:if(r=n.sent,0!==t.evento.imgUrls.length){n.next=7;break}return n.abrupt("return",t.evento.imgUrls.push(r.url));case 7:t.evento.imgUrls.unshift(r.url);case 8:case"end":return n.stop()}}),n)})))()},saveEvento:function(e){var t=this.$store.getters.user,n={_id:t._id,userName:t.userName,imgUrl:t.imgUrl};this.evento.owner=n,this.evento.createdAt=Date.now(),this.$store.dispatch({type:"saveEvento",evento:e}),this.$router.push("/")},removeImg:function(e){var t=this.evento.imgUrls.findIndex((function(t){return t===e}));this.evento.imgUrls.splice(t,1)}}},yt=wt,_t=Object(j["a"])(yt,qe,Pe,!1,null,null,null),jt=_t.exports,xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"login-page main-container"},[e.signUp?e._e():n("div",{staticClass:"login"},[n("h2",[e._v("Login")]),n("form",{staticClass:"form flex column align-center"},[n("el-input",{attrs:{type:"text",placeholder:"Username"},model:{value:e.loginCred.userName,callback:function(t){e.$set(e.loginCred,"userName",t)},expression:"loginCred.userName"}}),n("el-input",{attrs:{type:"text",placeholder:"Password"},model:{value:e.loginCred.password,callback:function(t){e.$set(e.loginCred,"password",t)},expression:"loginCred.password"}}),n("el-button",{on:{click:function(t){return t.preventDefault(),e.doLogin(t)}}},[e._v("Login")])],1),n("el-button",{on:{click:function(t){e.signUp=!e.signUp}}},[e._v("Signup")])],1),e.signUp?n("div",{staticClass:"sign-up"},[n("h2",[e._v("Signup")]),n("form",{staticClass:"form flex column align-center"},[n("el-input",{attrs:{type:"text",placeholder:"Fullname"},model:{value:e.signupCred.fullName,callback:function(t){e.$set(e.signupCred,"fullName",t)},expression:"signupCred.fullName"}}),n("el-input",{attrs:{type:"text",placeholder:"Username"},model:{value:e.signupCred.userName,callback:function(t){e.$set(e.signupCred,"userName",t)},expression:"signupCred.userName"}}),n("el-input",{attrs:{type:"text",placeholder:"Password"},model:{value:e.signupCred.password,callback:function(t){e.$set(e.signupCred,"password",t)},expression:"signupCred.password"}}),n("el-input",{attrs:{type:"file"},on:{change:e.onUploadImg}}),n("img",{attrs:{src:e.signupCred.imgUrl}}),n("el-button",{on:{click:function(t){return t.preventDefault(),e.doSignup(t)}}},[e._v("Signup")]),n("span",{staticStyle:{display:"none"}}),n("el-button",{on:{click:function(t){e.signUp=!e.signUp}}},[e._v("Login")])],1)]):e._e()])},kt=[],Ct={data:function(){return{loginCred:{},signupCred:{},signUp:!1}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}},methods:{onUploadImg:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,it.uploadImg(e);case 2:r=n.sent,t.signupCred.imgUrl=r.url,console.log("this.signupCred",t.signupCred);case 5:case"end":return n.stop()}}),n)})))()},doLogin:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.loginCred,n.userName&&n.password){t.next=3;break}return t.abrupt("return",e.msg="Please enter username/password");case 3:return t.next=5,e.$store.dispatch({type:"login",userCred:n});case 5:e.loginCred={},e.$router.back();case 7:case"end":return t.stop()}}),t)})))()},doSignup:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.signupCred,n.fullName&&n.password&&n.userName){t.next=3;break}return t.abrupt("return",e.msg="Please enter username & password");case 3:return t.next=5,e.$store.dispatch({type:"signup",userCred:n});case 5:e.$router.back();case 6:case"end":return t.stop()}}),t)})))()}}},$t=Ct,Ot=Object(j["a"])($t,xt,kt,!1,null,null,null),Ut=Ot.exports,Rt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Et=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"about-us main-container"},[r("div",{staticClass:"team-member flex justify-center"},[r("div",{staticClass:"tm-img"},[r("img",{attrs:{src:n("7643")}})]),r("div",{staticClass:"tm-dit"},[r("h4",[e._v("Ofra Bargad")]),r("p",{staticClass:"text-dark"},[e._v("Web developer")])]),r("div",{staticClass:"tm-desc flex align-center"},[r("p",{staticClass:"large text-dark about-description"},[e._v(" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut eaque, laboriosam veritatis, quos non quis ad perspiciatis. ")])])]),r("hr"),r("div",{staticClass:"team-member flex justify-center"},[r("div",{staticClass:"tm-img"},[r("img",{attrs:{src:n("b4f8")}})]),r("div",{staticClass:"tm-dit"},[r("h4",[e._v("Iris Rifold")]),r("p",{staticClass:"text-dark"},[e._v("Web developer")])]),r("div",{staticClass:"tm-desc flex align-center"},[r("p",{staticClass:"large text-dark about-description"},[e._v(" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut eaque, laboriosam veritatis, quos non quis ad perspiciatis, totam corporis ea, alias ut unde. Lorem ipsum dolor sit amet, consectetur adipisicing elit. ")])])]),r("hr"),r("div",{staticClass:"team-member flex justify-center"},[r("div",{staticClass:"tm-img"},[r("img",{attrs:{src:n("f6eb")}})]),r("div",{staticClass:"tm-dit"},[r("h4",[e._v("Lee Dror")]),r("p",{staticClass:"text-dark"},[e._v("Web developer")])]),r("div",{staticClass:"tm-desc flex align-center"},[r("p",{staticClass:"large text-dark about-description"},[e._v(" Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut eaque, laboriosam veritatis, quos non quis ad perspiciatis. ")])])])])}],It={},Tt=It,At=Object(j["a"])(Tt,Rt,Et,!1,null,null,null),Bt=At.exports,Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"home-page main-container"},[n("div",{staticClass:"home-img-container full"},[n("div",{staticClass:"parallax flex align-center justify-center"},[n("div",{staticClass:"on-picture"},[n("h2",[e._v("Create and manage your workout activitys with others")]),n("div",{staticClass:"search flex align-center justify-center"},[n("el-input",{attrs:{placeholder:"Try 'Triathlon'",size:"small"},model:{value:e.filterBy.title,callback:function(t){e.$set(e.filterBy,"title",t)},expression:"filterBy.title"}}),n("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.setFilter}})],1),e._l(e.categories,(function(t){return n("el-tag",{key:t,attrs:{effect:"plain"},on:{click:function(n){return e.setFilterByCategory(t)}}},[e._v(e._s(t))])}))],2)])]),n("h3",[e._v("Chack out our top trending events")]),e.topThree?n("evento-list",{attrs:{eventos:e.topThree}}):e._e()],1)},Lt=[],Mt={name:"home-page",data:function(){return{categories:["Weight training","Cardio","Running","Bicycle","Boxing","Fitness"],filterBy:{title:"",location:"",tags:[],timeAndDate:"Any day",category:null},topThree:null}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={title:"",location:"",tags:"",timeAndDate:"",category:""},e.$store.commit({type:"updateFilterBy",filter:n}),t.next=4,e.$store.dispatch({type:"loadEventos"});case 4:e.topThree=e.$store.getters.topThree;case 5:case"end":return t.stop()}}),t)})))()},methods:{setFilter:function(){this.$store.commit({type:"updateFilterBy",filter:_.cloneDeep(this.filterBy)}),this.$router.push("/evento")},setFilterByCategory:function(e){this.$store.commit({type:"setFilterByCategory",category:e}),this.$router.push("/evento")}},components:{eventoList:re}},Nt=Mt,St=Object(j["a"])(Nt,Dt,Lt,!1,null,null,null),zt=St.exports,Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.userToShow?n("section",{staticClass:"user-details main-container flex"},[n("div",{staticClass:"right"},[n("h1",[e._v(e._s(e.userToShow.fullName))]),n("img",{attrs:{src:e.userToShow.imgUrl}}),n("h4",[e._v(e._s(e.userToShow.bio))])]),n("div",{staticClass:"left"},[e.userToShow.reviews?n("review-list",{attrs:{reviews:e.userToShow.reviews,isOwner:e.isOwner},on:{addReview:e.addReview}}):e._e()],1)]):e._e()},qt=[],Pt={name:"user-details",data:function(){return{userToShow:""}},computed:{isOwner:function(){var e=this.$store.getters.loggedInUser;if(e)return this.userToShow._id===e._id}},methods:{addReview:function(e){var t=this.$store.getters.loggedInUser;e.userId=t._id,e.userName=t.userName,e.imgUrl=t.imgUrl,this.owner.reviews.push(e),this.$store.dispatch({type:"addReview",user:this.owner})}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.params.id,!n){t.next=8;break}return t.next=4,e.$store.dispatch({type:"getUserById",userId:n});case 4:e.userToShow=e.$store.getters.user,v.setup(),v.emit("to user",e.userToShow._id),v.on("chat addMsg",(function(t){var n={msg:t,icon:"how_to_reg"};return De.toastMsg(e,n),e.userToShow}));case 8:case"end":return t.stop()}}),t)})))()},destroyed:function(){v.off("chat addMsg",this.addMsg),v.terminate()},components:{reviewList:Ae}},Vt=Pt,Yt=Object(j["a"])(Vt,Ft,qt,!1,null,null,null),Jt=Yt.exports;s["default"].use(D["a"]);var Wt=[{path:"/",name:"Home",component:zt},{path:"/evento",name:"evento",component:we},{path:"/login",name:"LoginPage",component:Ut},{path:"/evento/details/:id",name:"EventoDetails",component:Fe},{path:"/evento/edit/:id?",name:"EventoEdit",component:jt},{path:"/about",name:"About",component:Bt},{path:"/user/details/:id?",name:"userDetails",component:Jt}],Gt=new D["a"]({routes:Wt}),Ht=Gt,Qt=n("2f62"),Xt=(n("4de4"),n("fb6a"),n("6062"),n("2909")),Kt={state:{isLoading:!1,eventos:[],tags:[],currEvento:null,filterBy:{title:"",location:"",tags:[],timeAndDate:"",category:""}},getters:{isLoading:function(e){return e.isLoading},eventos:function(e){return e.eventos},evento:function(e){return e.currEvento},topThree:function(e){return e.eventos.slice(0,3)},tags:function(e){var t=[];return e.eventos.forEach((function(e){t.push.apply(t,Object(Xt["a"])(e.tags))})),new Set(t)},getFilterBy:function(e){return e.filterBy}},mutations:{setIsLoading:function(e,t){var n=t.isLoading;e.isLoading=n},setEventos:function(e,t){var n=t.eventos;e.eventos=n},addEvento:function(e,t){var n=t.eventos;e.eventos.push(n)},removeEvento:function(e,t){var n=t.eventoId;e.eventos=e.eventos.filter((function(e){return e._id!==n}))},updateEvento:function(e,t){var n=t.evento,r=e.eventos.findIndex((function(e){return e._id===n._id}));e.eventos.splice(r,1,n)},setCurrEvento:function(e,t){var n=t.evento;e.currEvento=n},updateFilterBy:function(e,t){var n=t.filter;e.filterBy=n},setFilterByCategory:function(e,t){var n=t.category;e.filterBy.category=n}},actions:{addEvento:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.evento,n.next=3,Xe.add(r);case 3:return event=n.sent,e.commit({type:"addEvento",evento:r}),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))()},saveEvento:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.commit,r=t.evento,!r._id){n.next=8;break}return n.next=5,Xe.update(r);case 5:return n.abrupt("return",n.sent);case 8:return n.next=10,Xe.save(r);case 10:return n.abrupt("return",n.sent);case 11:case"end":return n.stop()}}),n)})))()},getById:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.eventoId,n.next=4,Xe.getById(s);case 4:a=n.sent,r({type:"setCurrEvento",evento:a});case 6:case"end":return n.stop()}}),n)})))()},loadEventos:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,n({type:"setIsLoading",isLoading:!0}),t.next=4,Xe.query(r.filterBy);case 4:s=t.sent,n({type:"setIsLoading",isLoading:!1}),n({type:"setEventos",eventos:s});case 7:case"end":return t.stop()}}),t)})))()},removeEvento:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.eventoId,n.next=3,Xe.remove(r);case 3:e.commit({type:"removeEvento",eventoId:r});case 4:case"end":return n.stop()}}),n)})))()},addMember:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.evento,n.next=3,Xe.update(r);case 3:e.commit({type:"updateEvento",evento:r});case 4:case"end":return n.stop()}}),n)})))()}}},Zt={login:sn,logout:un,signup:on,query:dn,getById:tn,remove:nn,update:rn,addReview:en};function en(e,t){}function tn(e){return Ge.get("user/".concat(e))}function nn(e){return Ge.delete("user/".concat(e))}function rn(e){return Ge.put("user/".concat(e._id),e)}function sn(e){return an.apply(this,arguments)}function an(){return an=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ge.post("auth/login",t);case 2:return n=e.sent,e.abrupt("return",pn(n));case 4:case"end":return e.stop()}}),e)}))),an.apply(this,arguments)}function on(e){return cn.apply(this,arguments)}function cn(){return cn=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ge.post("auth/signup",t);case 2:return n=e.sent,e.abrupt("return",pn(n));case 4:case"end":return e.stop()}}),e)}))),cn.apply(this,arguments)}function un(){return ln.apply(this,arguments)}function ln(){return ln=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ge.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),ln.apply(this,arguments)}function dn(){return Ge.get("user")}function pn(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var vn=null;sessionStorage.user&&(vn=JSON.parse(sessionStorage.user));var fn={state:{loggedinUser:vn,users:[],user:""},getters:{users:function(e){return e.users},loggedInUser:function(e){return e.loggedinUser},user:function(e){return e.user}},mutations:{setUser:function(e,t){var n=t.user;e.loggedinUser=n,console.log("setUser-store",e.loggedinUser)},setUsers:function(e,t){var n=t.users;e.users=n},removeUser:function(e,t){var n=t.userId;e.users=e.users.filter((function(e){return e._id!==n}))},setUserToShow:function(e,t){var n=t.user;e.user=n}},actions:{login:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.userCred,n.next=3,Zt.login(r);case 3:return s=n.sent,e.commit({type:"setUser",user:s}),n.abrupt("return",s);case 6:case"end":return n.stop()}}),n)})))()},getUserById:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.userId,n.next=4,Zt.getById(s);case 4:a=n.sent,r({type:"setUserToShow",user:a});case 6:case"end":return n.stop()}}),n)})))()},signup:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.userCred,console.log("userCred-store",{userCred:r}),n.next=4,Zt.signup(r);case 4:return s=n.sent,e.commit({type:"setUser",user:s}),n.abrupt("return",s);case 7:case"end":return n.stop()}}),n)})))()},logout:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Zt.logout();case 2:e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null});case 4:case"end":return t.stop()}}),t)})))()},loadUsers:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Zt.getUsers();case 2:n=t.sent,e.commit({type:"setUsers",users:n});case 4:case"end":return t.stop()}}),t)})))()},removeUser:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.userId,n.next=3,Zt.remove(r);case 3:e.commit({type:"removeUser",userId:r});case 4:case"end":return n.stop()}}),n)})))()},updateUser:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.user,n.next=3,Zt.update(r);case 3:r=n.sent,e.commit({type:"setUser",user:r});case 5:case"end":return n.stop()}}),n)})))()},addReview:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.user,n.next=3,Zt.update(r);case 3:e.commit({type:"setUserToShow",user:r});case 4:case"end":return n.stop()}}),n)})))()}}};s["default"].use(Qt["a"]);var mn=new Qt["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{eventoStore:Kt,userStore:fn}}),gn=(n("569e"),n("5c96")),hn=n.n(gn),bn=(n("0fae"),n("b2d6")),wn=n.n(bn),yn=n("4897"),_n=n.n(yn),jn=n("0a63"),xn=n.n(jn),kn=n("5b1b"),Cn=n("1881"),$n=n.n(Cn),On=n("a65d"),Un=n.n(On);s["default"].use(Un.a,{iconPack:"material"}),s["default"].use(n("2ead")),s["default"].use(kn["a"]),s["default"].use(xn.a),s["default"].use(hn.a),s["default"].use($n.a),_n.a.use(wn.a),s["default"].config.productionTip=!1,new s["default"]({router:Ht,store:mn,render:function(e){return e(A)}}).$mount("#app")},7643:function(e,t,n){e.exports=n.p+"img/Ofra.1818b50c.jpg"},b4f8:function(e,t,n){e.exports=n.p+"img/Iris.0d9b049a.jpg"},f6eb:function(e,t,n){e.exports=n.p+"img/Lee.29e175d6.jpg"}});
//# sourceMappingURL=app.1fcb705a.js.map